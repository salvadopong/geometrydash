<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Geometry Dash Clone – Ultra Enhanced</title>
<style>
/* GLOBAL */
*{margin:0;padding:0;box-sizing:border-box;}
body{background:#000;font-family:Arial, sans-serif;overflow:hidden;}

/* MENU */
#menuScreen{
 position:absolute;top:0;left:0;width:100vw;height:100vh;
 display:flex;flex-direction:column;justify-content:center;align-items:center;
 background:linear-gradient(135deg,#12003a,#28006d,#7500c9,#28006d,#12003a);
 background-size:600% 600%;animation:menuglow 12s infinite;
 z-index:10;
}
@keyframes menuglow{0%{background-position:0 50%;}50%{background-position:100% 50%;}100%{background-position:0 50%;}}
.menu-title{font-size:80px;color:#fff;text-shadow:0 0 30px #8f00ff,0 0 60px #ff00ff;margin-bottom:40px;font-weight:900;}
.menu-btn{background:#ff00d4;color:#fff;padding:20px 60px;margin:10px;border-radius:20px;font-size:32px;cursor:pointer;transition:0.2s;box-shadow:0 0 25px #ff00ff;}
.menu-btn:hover{transform:scale(1.12);box-shadow:0 0 40px #ff66ff;}

/* GAME */
#gameContainer{width:100vw;height:100vh;display:none;}
#gameCanvas{width:100%;height:100%;background:#0a0020;}

</style>
</head>
<body>

<div id="menuScreen">
 <div class="menu-title">GEOMETRY DASH</div>
 <button class="menu-btn" onclick="startLevelSelect()">PLAY</button>
 <button class="menu-btn" onclick="showCredits()">CREDITS</button>
</div>
<div id="gameContainer"><canvas id="gameCanvas"></canvas></div>

<script>
/* CANVAS */
const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;canvas.height=innerHeight;
window.onresize=()=>{canvas.width=innerWidth;canvas.height=innerHeight;};

/* PLAYER */
let player={x:200,y:500,size:50,yv:0,gravity:0.9,jumpForce:-18,mode:"cube",onGround:false,rot:0};

/* GAME STATE */
let currentLevel=0,scrollX=0,gameRunning=false;
let particles=[];

/* LEVELS */
const levels=[];

function fancyLevel(seed){let arr=[];for(let i=0;i<35;i++){let x=500+i*300;if(i%7===0)arr.push({type:"portal",x,y:600,mode:"wave"});else if(i%5===0)arr.push({type:"portal",x,y:600,mode:"ship"});else if(i%3===0)arr.push({type:"spike",x,y:600});else arr.push({type:"block",x,y:600,w:250,h:50});}return arr;}

levels.push(
 /* Manual Level 1 */ [
  {type:"block",x:600,y:600,w:300,h:50},
  {type:"spike",x:950,y:600},
  {type:"block",x:1250,y:600,w:350,h:50},
  {type:"portal",x:1700,y:600,mode:"ship"},
  {type:"block",x:2000,y:500,w:300,h:50},
  {type:"spike",x:2350,y:500}
 ],
 /* Manual Level 2 */ [
  {type:"block",x:500,y:600,w:300,h:50},
  {type:"spike",x:850,y:600},
  {type:"portal",x:1200,y:600,mode:"wave"},
  {type:"block",x:1500,y:550,w:350,h:50},
  {type:"spike",x:1850,y:550}
 ]
);
for(let i=2;i<10;i++)levels.push(fancyLevel(i));

/* MENU → LEVEL SELECT */
function startLevelSelect(){let m=document.getElementById("menuScreen");m.innerHTML="";let t=document.createElement("div");t.className="menu-title";t.textContent="SELECT LEVEL";m.appendChild(t);for(let i=0;i<10;i++){let b=document.createElement("button");b.className="menu-btn";b.textContent="LEVEL "+(i+1);b.onclick=()=>loadLevel(i);m.appendChild(b);} }

function loadLevel(n){currentLevel=n;scrollX=0;player.x=200;player.y=500;player.yv=0;player.mode="cube";document.getElementById("menuScreen").style.display="none";document.getElementById("gameContainer").style.display="block";if(!gameRunning){gameRunning=true;requestAnimationFrame(gameLoop);} }

/* INPUT */
let jumpHeld=false;
window.onmousedown=()=>jumpHeld=true;
window.onmouseup=()=>jumpHeld=false;
window.onkeydown=e=>{if(e.code==="Space")jumpHeld=true;};
window.onkeyup=e=>{if(e.code==="Space")jumpHeld=false;};

/* PARTICLES */
function addParticle(x,y,color){for(let i=0;i<6;i++){particles.push({x,y,dx:(Math.random()*6-3),dy:(Math.random()*6-3),life:20,color});}}

/* GAME LOOP */
function gameLoop(){ctx.clearRect(0,0,canvas.width,canvas.height);
 scrollX+=7;
 drawBackground();
 updatePlayer();
 drawObstacles();
 drawPlayer();
 updateParticles();
 requestAnimationFrame(gameLoop);
}

/* BACKGROUND */
function drawBackground(){let grd=ctx.createLinearGradient(0,0,0,canvas.height);grd.addColorStop(0,"#140040");grd.addColorStop(1,"#0a001a");ctx.fillStyle=grd;ctx.fillRect(0,0,canvas.width,canvas.height);} 

/* PLAYER UPDATE */
function updatePlayer(){if(player.mode==="cube"){player.yv+=player.gravity;if(jumpHeld&&player.onGround){player.yv=player.jumpForce;addParticle(player.x,player.y+player.size,"#00ffff");}}
 else if(player.mode==="ship"){if(jumpHeld)player.yv-=0.6;else player.yv+=0.6;}
 else if(player.mode==="ufo"){player.yv=jumpHeld?-12:12;}
 else if(player.mode==="wave"){player.y+=jumpHeld?-12:12;}
 player.y+=player.yv;
 player.rot+=0.15;
 player.onGround=false;
}

/* OBSTACLES */
function drawObstacles(){for(let o of levels[currentLevel]){const ox=o.x-scrollX;
 if(o.type==="block"){ctx.fillStyle="#5500ff";ctx.fillRect(ox,o.y,o.w,o.h);
  if(player.x<ox+o.w&&player.x+player.size>ox&&player.y+player.size>=o.y){player.y=o.y-player.size;player.yv=0;player.onGround=true;}}
 if(o.type==="spike"){ctx.fillStyle="#ff0066";ctx.beginPath();ctx.moveTo(ox,o.y);ctx.lineTo(ox+40,o.y);ctx.lineTo(ox+20,o.y-40);ctx.closePath();ctx.fill();
  if(player.x<ox+40&&player.x+player.size>ox&&player.y+player.size>o.y-40){death();return;}}
 if(o.type==="portal"){ctx.fillStyle="#00ffee";ctx.fillRect(ox,o.y-60,40,60);
  if(player.x+player.size>ox&&player.x<ox+40){player.mode=o.mode;addParticle(player.x,player.y,"#00ffff");}}
 }}

/* DRAW PLAYER */
function drawPlayer(){ctx.save();ctx.translate(player.x+player.size/2,player.y+player.size/2);ctx.rotate(player.rot);ctx.fillStyle="#00ffcc";ctx.fillRect(-player.size/2,-player.size/2,player.size,player.size);ctx.restore();}

/* PARTICLE UPDATE */
function updateParticles(){for(let i=particles.length-1;i>=0;i--){let p=particles[i];p.x+=p.dx;p.y+=p.dy;p.life--;ctx.fillStyle=p.color;ctx.fillRect(p.x,p.y,4,4);if(p.life<=0)particles.splice(i,1);} }

/* DEATH */
function death(){addParticle(player.x,player.y,"#ff0000");loadLevel(currentLevel);} 

/* CREDITS */
function showCredits(){let m=document.getElementById("menuScreen");m.innerHTML="<div class='menu-title'>CREDITS</div><div class='menu-btn' onclick='location.reload()'>BACK</div>";}

</script>
</body>
</html>
